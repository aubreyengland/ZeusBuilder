{#
Shared partial template for table pagination controls.
Equires a Flask-SQLAlchemy Pagination object, url_endpoint and optional query params
#}

{% set params = params|default({}) %}

<nav aria-label="page navigation">
    <ul class="pagination">

        <li class="page-item{{ ' disabled' if pagination.page == 1 else '' }}">
            <a aria-label="previous"
               class="page-link"
               hx-push-url="true"
               hx-get="{{ url_for(url_endpoint, page=pagination.prev_num, **params) }}"
               hx-target="#search_results">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>

        {% for page in page_window(pagination.page, pagination.pages) %}

            <li class="page-item{{ ' disabled' if page == pagination.page else '' }}">
                <a class="page-link"
                   hx-push-url="true"
                   hx-get="{{ url_for(url_endpoint,page=page, **params) }}"
                   hx-target="#search_results">{{ page }}</a>
            </li>

        {%- endfor %}

        <li class="page-item{{ '' if pagination.has_next else ' disabled' }}">
            <a aria-label="next"
               class="page-link"
               hx-push-url="true"
               hx-get="{{ url_for(url_endpoint, page=pagination.next_num, **params) }}"
               hx-target="#search_results">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>


